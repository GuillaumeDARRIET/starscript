/**
* StarScript 1.0.7
* author DARRIET GUILLAUME 
* https://lebonnumero.fr/
*
*/
var Star={};!function(){function cloneObject(original){if(null===original)return null;if(void 0!==original){var clone=Array.isArray(original)?[]:{},type="",prop;for(var key in original)prop=original[key],type=typeof prop,"object"===type?clone[key]=cloneObject(prop):"function"===type?clone[key]=eval("("+prop.toString()+")"):clone[key]=prop;return clone}}function addCache(a){StarCache[a]={file:"",event:null,state:"loading",listeners:[],type:"",stack:!1,isEval:!1}}function addCacheFromLocalStorage(a){if(!StarConfig.useLocalStorage)return!1;if(!Star.LocalStorageUpToDate())return localStorage.clear(),localStorage.setItem("localStorageId",StarConfig.localStorageId),!1;var b=localStorage.getItem(a);if(b){var c=JSON.parse(b);return addCache(a),StarCache[a].file=c.file,StarCache[a].type=c.type,StarCache[a].state="loaded","script"==c.type&&(StarCache[a].isEval=!0,StarCache[a].stack=eval.apply(window,[StarCache[a].file])),!0}return!1}function addToLocalStorage(a,b,c){if(!StarConfig.useLocalStorage||!StarConfig.storedFileTypes[b])return!1;var d={type:b,file:c},e=JSON.stringify(d);try{return localStorage.setItem(a,e),!0}catch(a){return console.log(a),!1}}function onXHRSuccess(a){var b=a.currentTarget;if(200!==b.status)return void onXHRError(a);var c=b.url,d=StarCache[c];d.file=b.responseText,d.event=a,d.state="loaded",addToLocalStorage(c,d.type,d.file),"script"===d.type&&(d.isEval=!0,d.stack=eval.apply(window,[d.file]));for(var e=0;e<d.listeners.length;e++)debug("loaderSuccess",c),d.listeners[e].success&&d.listeners[e].success(b.responseText,d.listeners[e])}function onXHRError(a){var b=a.currentTarget.url,c=StarCache[b];c.event=a,c.state="error";for(var d=0;d<c.listeners.length;d++)debug("loaderError",b),c.listeners[d].error&&c.listeners[d].error(a,c.listeners[d])}function onXHRProgress(a){var b=a.currentTarget;if(200===b.status){var c=total=0;a.lengthComputable&&(c=a.loaded,total=a.total);for(var d=a.currentTarget.url,e=StarCache[d],f=0;f<e.listeners.length;f++)debug("loaderProgress",d),e.listeners[f].progress&&e.listeners[f].progress(c,total,e.listeners[f])}}function onImportSuccess(a,b){function d(){if(c.cmp++,c.cmp===c.total){c.complete=!0,debug("importStack",c.label),c.callback&&c.callback();for(var a=0;a<c.listeners.length;a++)c.listeners[a]()}}var c=b.stack,e=StarCache[b.url],f=e.stack;f&&f.listeners&&f.complete===!1?f.listeners.push(d):d()}function DeepImport(a,b){if(a==b)return"Star.Import(orders["+a+"], callback );";var c="Star.Import(orders["+a+"], function(){";return c+=DeepImport(a+1,b),c+="}); "}function debug(a,b){StarConfig.debug[a]&&console&&console.log&&console.log("["+a+"] "+b)}StarConfig={paths:{},debug:{loaderSuccess:!1,loaderError:!1,loaderProgress:!1,importStack:!1},useLocalStorage:!1,localStorageId:(new Date).getTime(),storedFileTypes:{script:!0,css:!0,html:!0,json:!1,text:!1}},Star.SetConfig=function(a,b){b||(b=StarConfig);var d;for(var e in a)d=typeof a[e],"object"!==d||Array.isArray(a[e])?b[e]=a[e]:(b[e]||(b[e]={}),Star.SetConfig(a[e],b[e]))},Star.Class=function Class(ClassName,ParentObj,pattern,Static){var ParentClass,interfaces;Array.isArray(ParentObj)?(ParentClass=ParentObj.shift(),interfaces=ParentObj):(ParentClass=ParentObj,interfaces=[]);for(var prop,inter,ii=0;ii<interfaces.length;ii++)for(var key in interfaces[ii])inter=interfaces[ii],"string"==typeof inter&&(inter=eval(inter)),prop=inter[key],"function"==typeof prop&&(pattern[key]=eval("("+prop.toString()+")"));"string"==typeof ParentClass&&(ParentClass=eval(ParentClass)),ParentClass||"StarObject"==ClassName||(ParentClass=Star.StarObject);var ParentName=ParentClass?ParentClass.Static.__name__:"";if(ParentClass){var ParentStatic=ParentClass.Static,parent=cloneObject(ParentStatic.__pattern__);for(var i in parent)if("function"==typeof parent[i]){var f=parent[i];pattern[i]||(pattern[i]=f),ParentStatic.__parentName__&&i.substr(0,ParentStatic.__parentName__.length+1)===ParentStatic.__parentName__+"_"||(pattern[ParentName+"_"+i]=f)}else void 0===pattern[i]&&(pattern[i]=parent[i])}var NewClass=function(){var a=cloneObject(NewClass.Static.__pattern__);for(var b in a)if("function"==typeof a[b]){var c=a[b];a[b]=function(a,b,c){return function(){if(a[c])return b.apply(a,arguments)}}(a,c,b)}return a.construct&&a.construct.apply(a,arguments),a};return Static||(Static={}),Static.__name__=ClassName,Static.__parentName__=ParentName,Static.__pattern__=pattern,Static.getClassName=function(){return Static.__name__},Static.getParentClassName=function(){return Static.__parentName__},NewClass.Static=Static,NewClass},Star.Interface=function(a,b){return b.__name__=a,b},Star.StarObject=Star.Class("StarObject",null,{construct:function(){},remove:function(){for(var a in this)"remove"!=a&&delete this[a];delete this.remove}}),Star.Package=function a(b,c){var a=window;if(""!==b){var d=b.split(".");a=window;for(var e=0;e<d.length;e++)a[d[e]]||(a[d[e]]={}),a=a[d[e]]}c.Static?a[c.Static.__name__]=c:a[c.__name__]=c},StarCache={},Star.GetCacheCopy=function(){return JSON.parse(JSON.stringify(StarCache))},Star.GetPathsCopy=function(){return JSON.parse(JSON.stringify(StarConfig.paths))},Star.CleanPath=function(a){for(var b in StarConfig.paths)a=a.replace("["+b+"]",StarConfig.paths[b]);return a=a.replace("//","/")},Star.LocalStorageUpToDate=function(){return localStorage.getItem("localStorageId")==StarConfig.localStorageId},Star.Load=function(b){if(!b.url)throw"StarLoadError: url are missing";b.type||(b.type="text"),b.url=Star.CleanPath(b.url);var c;if(StarCache[b.url]&&(!b.nocache||"loaded"!==StarCache[b.url].state))return c=StarCache[b.url],"loading"===c.state&&c.listeners.push(b),"loaded"===c.state&&("script"!==c.type||c.isEval||(c.isEval=!0,c.stack=eval.apply(window,[c.file])),b.success(c.file,b)),void("error"===c.state&&b.error&&b.error(c.event,b));if(addCacheFromLocalStorage(b.url))return c=StarCache[b.url],void b.success(c.file,b);addCache(b.url),StarCache[b.url].listeners.push(b),StarCache[b.url].type=b.type;var d=new XMLHttpRequest;return d.url=b.url,d.addEventListener("load",onXHRSuccess,!1),d.addEventListener("error",onXHRError,!1),d.addEventListener("progress",onXHRProgress,!1),d.open("POST",b.url),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(null),d},Star.GetFile=function(a){return a=Star.CleanPath(a),StarCache[a]?StarCache[a].file:""},Star.SetFile=function(a,b){a=Star.CleanPath(a),StarCache[a]&&(StarCache[a].file=b)},Star.Import=function(b,c){if(b.length>0&&"object"==typeof b[0]){var d=DeepImport(0,b.length-1),e=new Function("orders","callback",d);return e(b,c)}var f={total:b.length,cmp:0,callback:c,listeners:[],complete:!1,label:""};if(StarConfig.debug.importStack&&(c?f.label=c.toString().replace(/(\r\n|\n|\r|\t|\s{2,})/gm," ").substring(13,70)+"...":f.label="Not Import Callback function"),0===f.total)f.complete=!0,debug("importStack",f.label),c&&c();else for(var g,h,i,j=0;j<f.total;j++)g=b[j],i="script",g.indexOf("!")!==-1&&(h=g.split("!"),g=h[1],i=h[0]),Star.Load({url:g,type:i,success:onImportSuccess,stack:f});return f}}();