/**
* StarScript 1.0.8
* author DARRIET GUILLAUME
* https://lebonnumero.fr/
*
*/
var Star={};(function(){var StarConfig={paths:{},debug:{loaderSuccess:!1,loaderError:!1,loaderProgress:!1,importStack:!1},useLocalStorage:!1,localStorageId:(new Date()).getTime(),storedFileTypes:{"script":!0,"css":!0,"html":!0,"json":!1,"text":!1,}};function debug(type,msg){if(StarConfig.debug[type]&&window.console&&window.console.log){window.console.log("["+type+"] "+msg)}}
Star.SetConfig=function(source,target){if(!target){target=StarConfig}
var attr,type;for(var key in source){type=typeof(source[key]);if(type==="object"&&!Array.isArray(source[key])){if(!target[key]){target[key]={}}
Star.SetConfig(source[key],target[key])}else{target[key]=source[key]}}};function cloneObject(original){if(original===null){return null}
if(original===undefined){return undefined}
var clone=Array.isArray(original)?[]:{};var type="";var prop;for(var key in original){prop=original[key];type=typeof(prop);if(type==="object"){clone[key]=cloneObject(prop)}else if(type==="function"){clone[key]=eval("("+prop.toString()+")")}else{clone[key]=prop}}
return clone}
Star.Class=function Class(ClassName,ParentObj,pattern,Static){var ParentClass;var interfaces;if(Array.isArray(ParentObj)){ParentClass=ParentObj.shift();interfaces=ParentObj}
else{ParentClass=ParentObj;interfaces=[]}
var prop,inter;for(var ii=0;ii<interfaces.length;ii++){for(var key in interfaces[ii]){inter=interfaces[ii];if(typeof(inter)==='string'){inter=eval(inter)}
prop=inter[key];if(typeof(prop)==="function"){pattern[key]=eval("("+prop.toString()+")")}}}
if(typeof(ParentClass)==='string'){ParentClass=eval(ParentClass)}
if(!ParentClass&&ClassName!=="StarObject"){ParentClass=Star.StarObject}
var ParentName=ParentClass?ParentClass.Static.__name__:"";if(ParentClass){var ParentStatic=ParentClass.Static;var parent=cloneObject(ParentStatic.__pattern__);for(var i in parent){if(typeof(parent[i])==='function'){var f=parent[i];if(!pattern[i]){pattern[i]=f}
if(!ParentStatic.__parentName__||i.substr(0,ParentStatic.__parentName__.length+1)!==ParentStatic.__parentName__+"_"){pattern[ParentName+"_"+i]=f}}
else if(pattern[i]===undefined){pattern[i]=parent[i]}}}
var NewClass=function(){var clone=cloneObject(NewClass.Static.__pattern__);for(var key in clone){if(typeof(clone[key])==='function'){var func=clone[key];clone[key]=(function(instance,fct,fct_name){return function(){if(instance[fct_name]){return fct.apply(instance,arguments)}}})(clone,func,key)}}
if(clone.construct){clone.construct.apply(clone,arguments)}
return clone};if(!Static){Static={}}
Static.__name__=ClassName;Static.__parentName__=ParentName;Static.__pattern__=pattern;Static.getClassName=function(){return Static.__name__};Static.getParentClassName=function(){return Static.__parentName__};NewClass.Static=Static;return NewClass};Star.Interface=function(InterfaceName,Pattern){Pattern.__name__=InterfaceName;return Pattern};Star.StarObject=Star.Class("StarObject",null,{construct:function(){},remove:function(){for(var index in this){if(index!=="remove"){delete this[index]}}
delete this.remove}});Star.Package=function Package(NameSpace,ClassOrInter){var Package=window;if(NameSpace!==""){var packageArray=NameSpace.split(".");Package=window;for(var i=0;i<packageArray.length;i++){if(!Package[packageArray[i]]){Package[packageArray[i]]={}}
Package=Package[packageArray[i]]}}
if(!ClassOrInter.Static){Package[ClassOrInter.__name__]=ClassOrInter}else{Package[ClassOrInter.Static.__name__]=ClassOrInter;window[ClassOrInter.Static.__name__]=ClassOrInter}};var StarCache={};function addCache(url){StarCache[url]={file:"",event:null,state:"loading",listeners:[],type:"",stack:!1,isEval:!1}}
Star.GetCacheCopy=function(){return JSON.parse(JSON.stringify(StarCache))};Star.GetPathsCopy=function(){return JSON.parse(JSON.stringify(StarConfig.paths))};Star.CleanPath=function(url){for(var pathName in StarConfig.paths){url=url.replace('['+pathName+']',StarConfig.paths[pathName])}
url=url.replace('//','/');return url};Star.LocalStorageUpToDate=function(){return localStorage.getItem("localStorageId")+""===StarConfig.localStorageId+""};function addCacheFromLocalStorage(url){if(!StarConfig.useLocalStorage){return!1}
if(!Star.LocalStorageUpToDate()){localStorage.clear();localStorage.setItem("localStorageId",StarConfig.localStorageId);return!1}
var s=localStorage.getItem(url);if(s){var ob=JSON.parse(s);addCache(url);StarCache[url].file=ob.file;StarCache[url].type=ob.type;StarCache[url].state="loaded";if(ob.type==="script"){StarCache[url].isEval=!0;StarCache[url].stack=eval.apply(window,[StarCache[url].file])}
return!0}
return!1}
function addToLocalStorage(url,type,file){if(!StarConfig.useLocalStorage||!StarConfig.storedFileTypes[type]){return!1}
var ob={type:type,file:file};var s=JSON.stringify(ob);try{localStorage.setItem(url,s);return!0}
catch(e){debug("localStorage",e);return!1}}
function onXHRError(evt){var url=evt.currentTarget.url;var cache=StarCache[url];cache.event=evt;cache.state="error";for(var i=0;i<cache.listeners.length;i++){debug("loaderError",url);if(cache.listeners[i].error){cache.listeners[i].error(evt,cache.listeners[i])}}}
function onXHRSuccess(evt){var xhr=evt.currentTarget;if(xhr.status!==200){onXHRError(evt);return}
var url=xhr.url;debug("loaderSuccess",url);var cache=StarCache[url];cache.file=xhr.responseText;cache.event=evt;cache.state="loaded";addToLocalStorage(url,cache.type,cache.file);if(cache.type==="script"){cache.isEval=!0;cache.stack=eval.apply(window,[cache.file])}
for(var i=0;i<cache.listeners.length;i++){if(cache.listeners[i].success){cache.listeners[i].success(xhr.responseText,cache.listeners[i])}}}
function onXHRProgress(evt){var xhr=evt.currentTarget;if(xhr.status!==200){return}
var loaded=0;var total=0;if(evt.lengthComputable){loaded=evt.loaded;total=evt.total}
var url=evt.currentTarget.url;var cache=StarCache[url];for(var i=0;i<cache.listeners.length;i++){debug("loaderProgress",url);if(cache.listeners[i].progress){cache.listeners[i].progress(loaded,total,cache.listeners[i])}}}
Star.Load=function Load(options){if(!options.url){throw "StarLoadError: url are missing"}
if(!options.type){options.type="text"}
options.url=Star.CleanPath(options.url);var cache;if(StarCache[options.url]&&(!options.nocache||StarCache[options.url].state!=="loaded")){cache=StarCache[options.url];if(cache.state==="loading"){cache.listeners.push(options)}
if(cache.state==="loaded"){if(cache.type==="script"&&!cache.isEval){cache.isEval=!0;cache.stack=eval.apply(window,[cache.file])}
options.success(cache.file,options)}
if(cache.state==="error"&&options.error){options.error(cache.event,options)}
return}
if(addCacheFromLocalStorage(options.url)){cache=StarCache[options.url];options.success(cache.file,options);return}
addCache(options.url);StarCache[options.url].listeners.push(options);StarCache[options.url].type=options.type;var xhr=new XMLHttpRequest();xhr.url=options.url;xhr.addEventListener("load",onXHRSuccess,!1);xhr.addEventListener("error",onXHRError,!1);xhr.addEventListener("progress",onXHRProgress,!1);xhr.open("GET",options.url);xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.send(null);return xhr};Star.GetFile=function(url){url=Star.CleanPath(url);if(StarCache[url]){return StarCache[url].file}
return ''};Star.SetFile=function(url,file){url=Star.CleanPath(url);if(StarCache[url]){StarCache[url].file=file}};function onImportSuccess(file,options){var stack=options.stack;function onStackComplete(){stack.cmp++;if(stack.cmp===stack.total){stack.complete=!0;debug("importStack",stack.label);if(stack.callback){stack.callback()}
for(var i=0;i<stack.listeners.length;i++){stack.listeners[i]()}}}
var cache=StarCache[options.url];var deep=cache.stack;if(deep&&deep.listeners&&deep.complete===!1){deep.listeners.push(onStackComplete)}
else{onStackComplete()}}
function DeepImport(id,max){if(parseInt(id)===parseInt(max)){return "Star.Import(orders["+id+"], callback );"}else{var source="Star.Import(orders["+id+"], function(){";source+=DeepImport(id+1,max);source+="}); ";return source}}
Star.Import=function Import(orders,callback){if(orders.length>0&&typeof(orders[0])==="object"){var source=DeepImport(0,orders.length-1);var tempFct=new Function("orders","callback",source);return tempFct(orders,callback)}
var stack={total:orders.length,cmp:0,callback:callback,listeners:[],complete:!1,label:''};if(StarConfig.debug.importStack){if(callback){stack.label=callback.toString().replace(/(\r\n|\n|\r|\t|\s{2,})/gm," ").substring(13,70)+"..."}else{stack.label="Not Import Callback function"}}
if(stack.total===0){stack.complete=!0;debug("importStack",stack.label);if(callback){callback()}}
else{var url,tab,type;for(var i=0;i<stack.total;i++){url=orders[i];type="script";if(url.indexOf('!')!==-1){tab=url.split("!");url=tab[1];type=tab[0]}
Star.Load({url:url,type:type,success:onImportSuccess,stack:stack})}}
return stack}})()