/**
* StarScript 1.0.8
* author DARRIET GUILLAUME
* https://lebonnumero.fr/
*
*/
var Star={};!function(){function debug(t,e){StarConfig.debug[t]&&window.console&&window.console.log&&window.console.log("["+t+"] "+e)}function cloneObject(original){if(null===original)return null;if(void 0!==original){var clone=Array.isArray(original)?[]:{},type="",prop;for(var key in original)prop=original[key],type=typeof prop,clone[key]="object"===type?cloneObject(prop):"function"===type?eval("("+prop.toString()+")"):prop;return clone}}function addCache(t){StarCache[t]={file:"",event:null,state:"loading",listeners:[],type:"",stack:!1,isEval:!1}}function addCacheFromLocalStorage(t){if(!StarConfig.useLocalStorage)return!1;if(!Star.LocalStorageUpToDate())return localStorage.clear(),localStorage.setItem("localStorageId",StarConfig.localStorageId),!1;var e=localStorage.getItem(t);if(e){var r=JSON.parse(e);return addCache(t),StarCache[t].file=r.file,StarCache[t].type=r.type,StarCache[t].state="loaded","script"===r.type&&(StarCache[t].isEval=!0,StarCache[t].stack=eval.apply(window,[StarCache[t].file])),!0}return!1}function addToLocalStorage(t,e,r){if(!StarConfig.useLocalStorage||!StarConfig.storedFileTypes[e])return!1;var a={type:e,file:r},n=JSON.stringify(a);try{return localStorage.setItem(t,n),!0}catch(t){return debug("localStorage",t),!1}}function onXHRError(t){var e=t.currentTarget.url,r=StarCache[e];r.event=t,r.state="error";for(var a=0;a<r.listeners.length;a++)debug("loaderError",e),r.listeners[a].error&&r.listeners[a].error(t,r.listeners[a])}function onXHRSuccess(t){var e=t.currentTarget;if(200===e.status){var r=e.url;debug("loaderSuccess",r);var a=StarCache[r];a.file=e.responseText,a.event=t,a.state="loaded",addToLocalStorage(r,a.type,a.file),"script"===a.type&&(a.isEval=!0,a.stack=eval.apply(window,[a.file]));for(var n=0;n<a.listeners.length;n++)a.listeners[n].success&&a.listeners[n].success(e.responseText,a.listeners[n])}else onXHRError(t)}function onXHRProgress(t){if(200===t.currentTarget.status){var e=0,r=0;t.lengthComputable&&(e=t.loaded,r=t.total);for(var a=t.currentTarget.url,n=StarCache[a],o=0;o<n.listeners.length;o++)debug("loaderProgress",a),n.listeners[o].progress&&n.listeners[o].progress(e,r,n.listeners[o])}}function onImportSuccess(t,e){function r(){if(++a.cmp===a.total){a.complete=!0,debug("importStack",a.label),a.callback&&a.callback();for(var t=0;t<a.listeners.length;t++)a.listeners[t]()}}var a=e.stack,n=StarCache[e.url].stack;n&&n.listeners&&!1===n.complete?n.listeners.push(r):r()}function DeepImport(t,e){if(parseInt(t)===parseInt(e))return"Star.Import(orders["+t+"], callback );";var r="Star.Import(orders["+t+"], function(){";return r+=DeepImport(t+1,e),r+="}); "}var StarConfig={paths:{},debug:{loaderSuccess:!1,loaderError:!1,loaderProgress:!1,importStack:!1},useLocalStorage:!1,localStorageId:(new Date).getTime(),storedFileTypes:{script:!0,css:!0,html:!0,json:!1,text:!1}};Star.SetConfig=function(t,e){e||(e=StarConfig);for(var r in t)"object"!==typeof t[r]||Array.isArray(t[r])?e[r]=t[r]:(e[r]||(e[r]={}),Star.SetConfig(t[r],e[r]))},Star.Class=function Class(ClassName,ParentObj,pattern,Static){var ParentClass,interfaces;Array.isArray(ParentObj)?(ParentClass=ParentObj.shift(),interfaces=ParentObj):(ParentClass=ParentObj,interfaces=[]);for(var prop,inter,ii=0;ii<interfaces.length;ii++)for(var key in interfaces[ii])"string"==typeof(inter=interfaces[ii])&&(inter=eval(inter)),"function"==typeof(prop=inter[key])&&(pattern[key]=eval("("+prop.toString()+")"));"string"==typeof ParentClass&&(ParentClass=eval(ParentClass)),ParentClass||"StarObject"===ClassName||(ParentClass=Star.StarObject);var ParentName=ParentClass?ParentClass.Static.__name__:"";if(ParentClass){var ParentStatic=ParentClass.Static,parent=cloneObject(ParentStatic.__pattern__);for(var i in parent)if("function"==typeof parent[i]){var f=parent[i];pattern[i]||(pattern[i]=f),ParentStatic.__parentName__&&i.substr(0,ParentStatic.__parentName__.length+1)===ParentStatic.__parentName__+"_"||(pattern[ParentName+"_"+i]=f)}else void 0===pattern[i]&&(pattern[i]=parent[i])}var NewClass=function(){var t=cloneObject(NewClass.Static.__pattern__);for(var e in t)if("function"==typeof t[e]){var r=t[e];t[e]=function(t,e,r){return function(){if(t[r])return e.apply(t,arguments)}}(t,r,e)}return t.construct&&t.construct.apply(t,arguments),t};return Static||(Static={}),Static.__name__=ClassName,Static.__parentName__=ParentName,Static.__pattern__=pattern,Static.getClassName=function(){return Static.__name__},Static.getParentClassName=function(){return Static.__parentName__},NewClass.Static=Static,NewClass},Star.Interface=function(t,e){return e.__name__=t,e},Star.StarObject=Star.Class("StarObject",null,{construct:function(){},remove:function(){for(var t in this)"remove"!==t&&delete this[t];delete this.remove}}),Star.Package=function(t,e){var r=window;if(""!==t){var a=t.split(".");r=window;for(var n=0;n<a.length;n++)r[a[n]]||(r[a[n]]={}),r=r[a[n]]}e.Static?(r[e.Static.__name__]=e,window[e.Static.__name__]=e):r[e.__name__]=e};var StarCache={};Star.GetCacheCopy=function(){return JSON.parse(JSON.stringify(StarCache))},Star.GetPathsCopy=function(){return JSON.parse(JSON.stringify(StarConfig.paths))},Star.CleanPath=function(t){for(var e in StarConfig.paths)t=t.replace("["+e+"]",StarConfig.paths[e]);return t=t.replace("//","/")},Star.LocalStorageUpToDate=function(){return localStorage.getItem("localStorageId")+""==StarConfig.localStorageId+""},Star.Load=function(t){if(!t.url)throw"StarLoadError: url are missing";t.type||(t.type="text"),t.url=Star.CleanPath(t.url);var e;if(StarCache[t.url]&&(!t.nocache||"loaded"!==StarCache[t.url].state))return"loading"===(e=StarCache[t.url]).state&&e.listeners.push(t),"loaded"===e.state&&("script"!==e.type||e.isEval||(e.isEval=!0,e.stack=eval.apply(window,[e.file])),t.success(e.file,t)),void("error"===e.state&&t.error&&t.error(e.event,t));if(addCacheFromLocalStorage(t.url))return e=StarCache[t.url],void t.success(e.file,t);addCache(t.url),StarCache[t.url].listeners.push(t),StarCache[t.url].type=t.type;var r=new XMLHttpRequest;return r.url=t.url,r.addEventListener("load",onXHRSuccess,!1),r.addEventListener("error",onXHRError,!1),r.addEventListener("progress",onXHRProgress,!1),r.open("POST",t.url),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(null),r},Star.GetFile=function(t){return t=Star.CleanPath(t),StarCache[t]?StarCache[t].file:""},Star.SetFile=function(t,e){t=Star.CleanPath(t),StarCache[t]&&(StarCache[t].file=e)},Star.Import=function(t,e){if(t.length>0&&"object"==typeof t[0]){var r=DeepImport(0,t.length-1);return new Function("orders","callback",r)(t,e)}var a={total:t.length,cmp:0,callback:e,listeners:[],complete:!1,label:""};if(StarConfig.debug.importStack&&(a.label=e?e.toString().replace(/(\r\n|\n|\r|\t|\s{2,})/gm," ").substring(13,70)+"...":"Not Import Callback function"),0===a.total)a.complete=!0,debug("importStack",a.label),e&&e();else for(var n,o,i,s=0;s<a.total;s++)i="script",-1!==(n=t[s]).indexOf("!")&&(n=(o=n.split("!"))[1],i=o[0]),Star.Load({url:n,type:i,success:onImportSuccess,stack:a});return a}}();